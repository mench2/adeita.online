# üöÄ –ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ SOLID.JS

## üìã –ß–¢–û –ë–£–î–ï–¢ –°–î–ï–õ–ê–ù–û:

1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Git
2. ‚úÖ –°–±–æ—Ä–∫–∞ Solid.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `public/`
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
5. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üéØ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –°–ï–†–í–ï–†–ê:

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@95.81.117.141
```

---

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π Solid.js (–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π)
```bash
cd /var/www/adeita.online && \
git pull && \
cd solid-app && \
npm install && \
npm run build && \
cd .. && \
chmod +x deploy-solid.sh && \
./deploy-solid.sh && \
pm2 restart adeita
```

**–û–∂–∏–¥–∞–π**: 2-3 –º–∏–Ω—É—Ç—ã (npm install + build)

---

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
cd /var/www/adeita.online

# –ë—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp /etc/nginx/sites-available/adeita.ru /etc/nginx/sites-available/adeita.ru.backup

# –°–∫–æ–ø–∏—Ä—É–π –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp nginx.conf /etc/nginx/sites-available/adeita.ru

# –ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
nginx -t
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
```

**–ï—Å–ª–∏ OK - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Nginx:**
```bash
systemctl reload nginx
```

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
```bash
# PM2
pm2 status
pm2 logs adeita --lines 20

# Nginx
systemctl status nginx
```

---

### –®–∞–≥ 5: –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç
```
https://adeita.online
```

**–ü—Ä–æ–≤–µ—Ä—å:**
- ‚úÖ –°–∞–π—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ (F12)
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–≤–æ–Ω–æ–∫
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–∏–ø–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

---

## üîç –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨ –í NGINX:

### –ë—ã–ª–æ (–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ):
```nginx
location / {
    proxy_pass http://127.0.0.1:3001/;  # –í–°–ï —á–µ—Ä–µ–∑ Node.js
}
```
‚ùå Node.js —Ä–∞–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–º–µ–¥–ª–µ–Ω–Ω–æ)

---

### –°—Ç–∞–ª–æ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ):
```nginx
# Deploy endpoint - —á–µ—Ä–µ–∑ Node.js
location /deploy {
    proxy_pass http://localhost:3001/deploy;
}

# Socket.IO - —á–µ—Ä–µ–∑ Node.js
location /socket.io/ {
    proxy_pass http://localhost:3001;
    # WebSocket support
}

# –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã - Nginx —Ä–∞–∑–¥–∞–µ—Ç —Å–∞–º
location / {
    root /var/www/adeita.online/public;
    try_files $uri $uri/ /index.html;
}
```
‚úÖ Nginx —Ä–∞–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É (–±—ã—Å—Ç—Ä–æ + –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚úÖ Node.js —Ç–æ–ª—å–∫–æ –¥–ª—è WebSocket –∏ API

---

## üìä –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–∞—è —Å—Ö–µ–º–∞ | –ù–æ–≤–∞—è —Å—Ö–µ–º–∞ |
|----------|--------------|-------------|
| –†–∞–∑–¥–∞—á–∞ HTML | Node.js | Nginx |
| –†–∞–∑–¥–∞—á–∞ JS/CSS | Node.js | Nginx |
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |
| WebSocket | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ | ~200ms | ~50ms |
| –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è |

---

## üêõ TROUBLESHOOTING:

### –ü—Ä–æ–±–ª–µ–º–∞ 1: nginx -t –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –æ—à–∏–±–∫—É
nginx -t

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏ –±—ç–∫–∞–ø
cp /etc/nginx/sites-available/adeita.online.backup /etc/nginx/sites-available/adeita.online
systemctl reload nginx
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: 502 Bad Gateway
```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ PM2 –∑–∞–ø—É—â–µ–Ω
pm2 status
pm2 restart adeita

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs adeita --lines 50
tail -f /var/log/nginx/adeita_error.log
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å
ls -la /var/www/adeita.online/public/

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# - index.html
# - assets/ (—Å .js –∏ .css)
# - icon/

# –ï—Å–ª–∏ –Ω–µ—Ç - –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏
cd /var/www/adeita.online
./deploy-solid.sh
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ Socket.IO —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:3001/socket.io/

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
# {"code":0,"message":"Transport unknown"}

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Nginx
tail -f /var/log/nginx/adeita_error.log

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—Ä—Ç 3001 —Å–ª—É—à–∞–µ—Ç—Å—è
netstat -tlnp | grep 3001
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```
# –í –±—Ä–∞—É–∑–µ—Ä–µ:
Ctrl+Shift+R (Windows/Linux)
Cmd+Shift+R (Mac)

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
```

---

## üîÑ –û–¢–ö–ê–¢ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫):

### –û—Ç–∫–∞—Ç–∏—Ç—å Nginx:
```bash
cp /etc/nginx/sites-available/adeita.ru.backup /etc/nginx/sites-available/adeita.ru
nginx -t
systemctl reload nginx
```

### –û—Ç–∫–∞—Ç–∏—Ç—å –∫–æ–¥:
```bash
cd /var/www/adeita.online
git log --oneline  # –ù–∞–π–¥–∏ –∫–æ–º–º–∏—Ç –¥–æ –¥–µ–ø–ª–æ—è
git checkout <commit-hash> .
./deploy-solid.sh
pm2 restart adeita
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø:

- [ ] `git pull` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] `npm run build` –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `./deploy-solid.sh` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª —Ñ–∞–π–ª—ã
- [ ] `nginx -t` –ø–æ–∫–∞–∑–∞–ª OK
- [ ] `systemctl reload nginx` –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] `pm2 restart adeita` –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è: https://adeita.online
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- [ ] –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–≤–æ–Ω–æ–∫
- [ ] WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (Socket.IO)
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–∏–ø–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ß–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)

---

## üßπ –û–ß–ò–°–¢–ö–ê (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:
```bash
cd /var/www/adeita.online
./cleanup.sh
```

---

## üéâ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ Solid.js –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Nginx –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ —Ä–∞–∑–¥–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ
- ‚úÖ WebSocket —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–î–ª—è –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**
```bash
cd /var/www/adeita.online
git pull
./deploy-solid.sh
pm2 restart adeita
# Nginx –æ–±–Ω–æ–≤–ª—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ (–µ—Å–ª–∏ –Ω–µ –º–µ–Ω—è–ª–∞—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
```

**–£–¥–∞—á–∏ —Å –¥–µ–ø–ª–æ–µ–º!** üöÄ

